# Capstone Project Docs
A repository for my capstone project code and miscellaneous files

# Wiring:
<pre>
┌────────────────────────┐                                                                                               
│Interfacing Components: │                                                                                               
└────────────────────────┘                                                                                               
┌──────────┐    ┌──────────┐    ┌──────┐        ┌─────────────────────┐                                                  
│ SD CARD: │    │ ENCODER: │    │ LCD: │        │ LED (Common Anode): │                                                  
┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌───────────────────────────────────────────────────────────────────────┐
│ VCC --> 5V  │ │ +   --> 3V3 │ │ VCC --> 5V  │ │ COMM--> 3V3 (Longest Pin is COMM)                                     │
│ GND --> GND │ │ GND --> GND │ │ GND --> GND │ │                                                                       │
│             │ │             │ │             │ │ R   --> 27 (Single pin right next to COMM)                            │
│ SCK --> 18  │ │ CLK --> 4   │ │ SDA --> 25  │ │ G   --> 14 (Paired with B on the other side of COMM)                  │
│ MISO--> 21  │ │ DT  --> 2   │ │ SCL --> 26  │ │ B   --> 12 (Paired with G on the other side of COMM)                  │
│ MOSI--> 19  │ │             │ │             │ │                                                                       │
│ CS  --> 5   │ │ SW  --> 15  │ │             │ │                                                                       │
└─────────────┘ └─────────────┘ └─────────────┘ └───────────────────────────────────────────────────────────────────────┘
                                                                                                                         
┌────────────────────────┐                                                                                               
│Sensors And Misc.:      │                                                                                               
└────────────────────────┘                                                                                               
┌──────────────┐                                             ┌──────────────────┐                                        
│ Air Quality: │                                             │ Moisture Sensor: │                                        
┌──────────────────────────────────────────────────────────┐ ┌──────────────────────────────────────────────────────────┐
│ VCC --> 5V                                               │ │ VCC --> 3V3                                              │
│ GND --> GND                                              │ │ GND --> GND                                              │
│                                                          │ │                                                          │
│ A0  --> 34                                               │ │ AOUT--> 32                                               │
│                                                          │ │                                                          │
│                                                          │ │                                                          │
│                                                          │ │                                                          │
└──────────────────────────────────────────────────────────┘ └──────────────────────────────────────────────────────────┘
┌─────────────┐                                                                                                          
│ NPK Sensor: │                                                                                                          
┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│ YLLW --> B+ (on RS485 to TTL)                                                                                         │
│ GREN --> A- (on RS485 to TTL)                                                                                         │
│                                                                                                                       │
│ 接大地 -> !!!NC!!!                                                                                                    │
│                                                                                                                       │
│ Address is 0x05, first byte needs to be 0x05                                                                          │
│                                                                                                                       │
│ // Modbus RTU requests for reading NPK values                                                                         │
│ const byte nitro[] = {0x05, 0x03, 0x00, 0x03, 0x00, 0x06, 0x34, 0x4C}; //Address is 0x05, first byte needs to be 0x05 │
│ const byte phos[] = {0x05, 0x03, 0x00, 0x04, 0x00, 0x06, 0x85, 0x8D}; //Address is 0x05, first byte needs to be 0x05  │
│ const byte pota[] = {0x05, 0x03, 0x00, 0x05, 0x00, 0x06, 0xD4, 0x4D}; //Address is 0x05, first byte needs to be 0x05  │
└───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
┌──────────────────┐                                         ┌───────────────┐                                           
│ Voltage Booster: │                                         │ RS485 to TTL: │                                           
┌──────────────────────────────────────────────────────────┐ ┌──────────────────────────────────────────────────────────┐
│ VIN+ --> 5V                                              │ │ GND --> GND                                              │
│ VIN- --> GND                                             │ │ VCC --> 5V                                               │
│                                                          │ │                                                          │
│ VOUT+ --> RED (NPK Sensor)                               │ │ RXD --> 16                                               │
│ VOUT- --> BLK (NPK Sensor)                               │ │ TXD --> 17                                               │
│                                                          │ │                                                          │
│                                                          │ │ Yes, this works on RX->RX TX->TX and not RX->TX TX->RX   │
└──────────────────────────────────────────────────────────┘ └──────────────────────────────────────────────────────────┘
</pre>
